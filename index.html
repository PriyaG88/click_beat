<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="main.css">

	<!-- Load the Paper.js library -->
	<script type="text/javascript" src="paper-full.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.0.4/howler.js"></script>
	<script type="text/javascript" src="key_sound_mappings.js"></script>

	<!-- Define inlined PaperScript associate it with myCanvas -->
	<script type="text/paperscript" canvas="myCanvas">

//shape logic
	var shapesLogger = [];

	function createPoint() {
	  var maxPoint = new Point(view.size.width, view.size.height);
	  var randomPoint = Point.random();
	  return (maxPoint * randomPoint);
	}

	function createDecagon() {
	  var decagon = new Path.RegularPolygon(createPoint(), 300, 200);
	  decagon.fillColor = '#8F857D';
	  return decagon;
	}

	function createCircle() {
		var circle = new Path.Circle(createPoint(), 300);
		circle.fillColor = '#DECBB7';
		return circle;
	}

	function createTriangle() {
		var triangle = new Path.RegularPolygon(createPoint(), 3, 300);
		triangle.fillColor = '#8F857D';
		return triangle;
	}

	function createRectangle() {
		var rectangle = new Rectangle(new Point(100, 100), new Point(300, 200));
		var path = new Path.Rectangle(rectangle);
		path.fillColor = '#5C5552';
		return path;
	}

	function createEllipse() {
		var rectangle = new Rectangle(new Point(20, 20), new Size(300, 200));
		var path = new Path.Ellipse(rectangle);
		path.fillColor = '#433633';
		return path;
	}

	function createStar() {
		var points = 12;
		var radius1 = 100;
		var radius2 = 50;
		var path = new Path.Star(createPoint(), points, radius1, radius2);
		path.fillColor = '#DECBB7';
		return path;
	}

	function createArc() {
		var from = createPoint();
		var through = createPoint();
		var to = createPoint();
		var path = new Path.Arc(from, through, to);
		path.strokeColor = '#FFFFFF';
		path.strokeWidth = 10;
		return path;
	}

	function createArrow() {
		var path = new Path();
		path.strokeColor = 'black';
		path.strokeWidth = 5;
		path.add(new Point(createPoint(), 90));
		path.add(new Point(90, 40));
		path.add(new Point(createPoint(), 90));
		return path;
	}

	function createBackground(string) {
		return function() {
			var maxPoint = new Point(view.size.width, view.size.height);
			var rectangle = new Rectangle(new Point(0, 0), maxPoint);
			var path = new Path.Rectangle(rectangle);
			path.fillColor = string;
			return path;
		};
	}

	var shapes = {
	  a: createDecagon,
		b: createCircle,
		c: createTriangle,
		d: createRectangle,
		e: createEllipse,
		f: createStar,
		g: createArc,
		h: createArrow,
		i: createBackground('#DECBB7'),
		j: createBackground('#8F857D'),
		k: createBackground('#5C5552'),
		l: createBackground('#433633'),
		m: createBackground('#6E0D25'),
		n: createBackground('#774E24'),
		o: createBackground('#6A381F'),
		p: createBackground('#AA5042'),
		q: createBackground('#1D1A05'),


	};

	function onKeyDown(event) {

		var sound = new Howl({
			src: sounds[event.key]
		});
		sound.play();
		var shape = shapes[event.key]();
		shapesLogger.push(shape);
	}

	function onFrame(event) {
		if (shapesLogger) {
			for (var i = 0; i < shapesLogger.length; i++) {
				shapesLogger[i].rotate(3);
				shapesLogger[i].scale(.9);
			}
		}
	}

</script>
</head>
<body>
	<canvas id="myCanvas" resize></canvas>
</body>
</html>
